'use strict';(function(){function p(m,q,a){function b(l,c){if(!q[l]){if(!m[l]){var e="function"==typeof require&&require;if(!c&&e)return e(l,!0);if(d)return d(l,!0);c=Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c;}c=q[l]={exports:{}};m[l][0].call(c.exports,function(f){return b(m[l][1][f]||f)},c,c.exports,p,m,q,a)}return q[l].exports}for(var d="function"==typeof require&&require,g=0;g<a.length;g++)b(a[g]);return b}return p})()({1:[function(p,m,q){m.exports={isRewritten:function(a){return"content"!==
a[3]},isExemptUrl:function(a){return"blueprint"===this.getDomain(a)?!0:"/services/training/schedule_enroll.html /company/aboutus/directions.html /programs/nrd /programs/usrp /company/events/seminars/intl_reg_form.html /googlee8a9c0de75ed5e40.html /mwaccount/profiles/identity/ /mwaccount/profiles/incomplete /mwaccount/profiles/reverify /mwaccount/profiles/reverify/email /mwaccount/profiles/verify /mwaccount/profiles/verify/existing /login /login/association/tah/existing /login/verification/tah/new /login/verification/tah/reverify".split(" ").some(function(b){return a.includes(b)})},
getDomain:function(a){a=a.split("/");return this.isRewritten(a)?a[2]:a[5]},getSubdomain:function(a){let b=/^([a-z0-9]{2,14})\./.exec(a);if(b)return b[1];if(b=/^(aem-)?([a-z0-9]{2,3})-/.exec(a))return b[2];if(b=/^([a-z0-9]{2,})$/.exec(a))return b[1];if(b=/(^(mathworks--)((dev|test)[1-3]))/.exec(a))return"www-"+b[3];if(b=/(^(mathworks--)(mangesha|uat))/.exec(a))return"www";throw"cannot determine subdomain for domain "+a;},getLang:function(a){a=a.split("/");return this.isRewritten(a)?a[3]&&a[3].match(/^[a-z][a-z]$/)?
a[3]:"ch"===this.getSubdomain(a[2])?"en":"ww2"===this.getSubdomain(a[2])?"zh":"":a[6].substr(0,2)},rewriteUrl:function(a,b,d){a=a.split("/");"content"===a[3]?(a[5]=b,a[6]=d):(a[2]=b,a[3]&&a[3].match(/^[a-z][a-z]$/)?"en"===d&&b.startsWith("ch")||"zh"===d&&b.endsWith("mathworks.cn")?a.splice(3,1):a[3]=d:!d||"en"===d&&b.startsWith("ch")||"zh"===d&&b.endsWith("mathworks.cn")||a.splice(3,0,d));return a.join("/")},setCookie:function(a,b){let d="mathworks.com";location.host.endsWith("mathworks.cn")&&(d=
"mathworks.cn");let g=this.getSubdomain(a);a.endsWith("mathworks.cn")&&(g="cn");"www"===g&&(g="us");"cn"!==g&&"ch"!==g&&(b="");a=this.getCookieNames(a);const l=new Date;l.setFullYear(l.getFullYear()+68);document.cookie=[a.mwaPrefsCookieName,"\x3d",encodeURIComponent(JSON.stringify({domain:g,lang:b,v:2})),"; expires\x3d",l.toUTCString(),"; path\x3d/; domain\x3d",d,"; sameSite\x3dLax; secure"].join("")},logoutMWA:function(a){let b="mathworks.com";location.host.endsWith("mathworks.cn")&&(b="mathworks.cn");
a=this.getCookieNames(a);document.cookie=a.mwaLoginCookieName+"\x3d;expires\x3dThu, 01 Jan 1970 00:00:01 GMT;path\x3d/;domain\x3d"+b+";"},getSubdomainSuffix:function(a){let b;a=a.split(".")[0].split("-");1<a.length&&(b=a[a.length-1]);return b},getCookieNames:function(a){let b="mwa",d="mwa_prefs";if(a=this.getSubdomainSuffix(a))b=b+"_"+a,d=d+"_"+a;return{mwaLoginCookieName:b,mwaPrefsCookieName:d}},switchDomain:function(a,b){let d=location.pathname;d.match(/^\/[a-z]{2}\//)?d=d.substring(3):d.match(/^\/[a-z]{2}\.html/)&&
(d="/");b=this.getValidLang(this.getSubdomain(a),b);let g="//"+a;!b||this.isDefaultLang(this.getSubdomain(a),b)||document.body.classList.contains("templateservice")||(g+="/"+b);g+=d+location.search;g=g.replace(/requestedDomain=[a-z]?[a-z]?&?/,"");g=g.replace(/&$/,"");g=g.replace(/\?$/,"");a="requestedDomain\x3d"+b;g=-1<g.indexOf("?")?g+"\x26"+a:g+"?"+a;window.location=g},getPrefCookie:function(a){a=this.getCookieNames(a);a=new RegExp("(?:(?:^|.*;\\s*)"+a.mwaPrefsCookieName+"\\s*\\\x3d\\s*([^;]*).*$)|^.*$");
return document.cookie&&(a=document.cookie.replace(a,"$1"))?JSON.parse(decodeURIComponent(a)):""},getPrefDomain:function(a){const b=this.getPrefCookie(a);let d;b&&(d=b.domain,"us"===d&&(d="www"),a=this.getSubdomainSuffix(a),"cn"!==d?(-1==="la nl se de es fr uk it ch au in jp kr".split(" ").indexOf(d)&&(d="www"),a&&(d=d+"-"+a),d+=".mathworks.com"):(d="ww2",a&&(d=d+"-"+a),d+=".mathworks.cn"));return d},getPrefLang:function(a){a=this.getPrefCookie(a);return this.getValidLang(a.domain,a.lang)},getCookieVersion:function(a){return this.getPrefCookie(a).v},
getValidLang:function(a,b){return(a={ch:["en","de","fr"],cn:["zh","en"],ww2:["zh","en"]}[a])?0<=a.indexOf(b)?b:a[0]:""},isDefaultLang:function(a,b){return(a={ch:"en",cn:"zh",ww2:"zh"}[a])?a===b:b?!1:!0}}},{}],2:[function(p,m,q){m.exports={US:{name:"United States",subdomain:"www"},AD:{name:"Andorra",subdomain:"es"},AR:{name:"Argentina",subdomain:"la"},AU:{name:"Australia",subdomain:"au"},AT:{name:"Austria",subdomain:"de"},BE:{name:"Belgium",subdomain:"nl"},BO:{name:"Bolivia",subdomain:"la"},BV:{name:"Bouvet Islands",
subdomain:"se"},CA:{name:"Canada",subdomain:"www"},CL:{name:"Chile",subdomain:"la"},CN:{name:"China",subdomain:"ww2"},CX:{name:"Christmas Island",subdomain:"au"},CC:{name:"Cocos-Keeling Islands",subdomain:"au"},CO:{name:"Colombia",subdomain:"la"},CR:{name:"Costa Rica",subdomain:"la"},DK:{name:"Denmark",subdomain:"se"},DO:{name:"Dominican Republic",subdomain:"la"},EC:{name:"Ecuador",subdomain:"la"},SV:{name:"El Salvador",subdomain:"la"},EE:{name:"Estonia",subdomain:"se"},FO:{name:"Faroe Islands",subdomain:"se"},
FJ:{name:"Fiji",subdomain:"au"},FI:{name:"Finland",subdomain:"se"},FR:{name:"France",subdomain:"fr"},GF:{name:"French Guiana",subdomain:"fr"},PF:{name:"French Polynesia",subdomain:"fr"},DE:{name:"Germany",subdomain:"de"},GL:{name:"Greenland",subdomain:"se"},GP:{name:"Guadalupe",subdomain:"fr"},GT:{name:"Guatemala",subdomain:"la"},HK:{name:"Hong Kong",subdomain:"ww2"},HN:{name:"Honduras",subdomain:"la"},IS:{name:"Iceland",subdomain:"se"},IN:{name:"India",subdomain:"in"},IE:{name:"Ireland",subdomain:"uk"},
IT:{name:"Italy",subdomain:"it"},JP:{name:"Japan",subdomain:"jp"},KR:{name:"Korea",subdomain:"kr"},LV:{name:"Latvia",subdomain:"se"},LI:{name:"Liechtenstein",subdomain:"ch"},LT:{name:"Lithuania",subdomain:"se"},LU:{name:"Luxembourg",subdomain:"nl"},MO:{name:"Macau",subdomain:"ww2"},MQ:{name:"Martinique",subdomain:"fr"},YT:{name:"Mayotte Island",subdomain:"fr"},MX:{name:"Mexico",subdomain:"la"},MC:{name:"Monaco",subdomain:"fr"},NL:{name:"Netherlands",subdomain:"nl"},NC:{name:"New Caledonia",subdomain:"fr"},
NZ:{name:"New Zealand",subdomain:"au"},NI:{name:"Nicaragua",subdomain:"la"},NO:{name:"Norway",subdomain:"se"},PA:{name:"Panama",subdomain:"la"},PG:{name:"Papua New Guinea",subdomain:"au"},PY:{name:"Paraguay",subdomain:"la"},PE:{name:"Peru",subdomain:"la"},PT:{name:"Portugal",subdomain:"www"},PR:{name:"Puerto Rico",subdomain:"la"},RE:{name:"Reunion Island",subdomain:"fr"},ES:{name:"Spain",subdomain:"es"},LK:{name:"Sri Lanka",subdomain:"in"},SE:{name:"Sweden",subdomain:"se"},CH:{name:"Switzerland",
subdomain:"ch"},GB:{name:"United Kingdom",subdomain:"uk"},UY:{name:"Uruguay",subdomain:"la"},VA:{name:"Vatican City",subdomain:"it"},VE:{name:"Venezuela",subdomain:"la"}}},{}],3:[function(p,m,q){const a=p("../domainRedirect/utils.js"),b=p("./countrySubdomains.js");let d,g;const l={init:function(){const c=window.location.href,e=a.getDomain(c),f=a.getSubdomain(e),k=a.getLang(c),h=a.getPrefDomain(e),n=a.getPrefLang(e),r=a.getSubdomain(h),t=window.MathWorksCountryCode;this.setCookieAndSwitchDomain();
this.setCountrySelectorButtonText(n,r,k,f);this.setRecommendedLink(t,h,n);this.showChinaPerformanceAlert(t);this.checkVisitorPrefDomain(h,t,e,n,f,k,c)},setCookieAndSwitchDomain:function(){document.querySelectorAll("a.domain_selector_link").forEach(c=>{c.addEventListener("click",e=>{e.preventDefault();e=a.getDomain(c.href);const f=c.dataset.lang;a.setCookie(e,f);a.switchDomain(e,f)})})},setCountrySelectorButtonText:function(c,e,f,k){if(c){let h;c=null==(h=document.querySelector("a[data-subdomain\x3d'"+
e+"'][data-lang\x3d'"+c+"'][data-selected-text]"))?void 0:h.dataset.selectedText}else if(f){let h;c=null==(h=document.querySelector("a[data-subdomain\x3d'"+k+"'][data-lang\x3d'"+f+"'][data-selected-text]"))?void 0:h.dataset.selectedText}else{let h;c=null==(h=document.querySelector("a[data-subdomain\x3d'"+k+"'][data-default-lang\x3d'true'][data-selected-text]"))?void 0:h.dataset.selectedText}document.querySelector("#countrySelectorButtonText")&&c&&(document.querySelector("#countrySelectorButtonText").textContent=
c)},setRecommendedLink:function(c,e,f){c?(d=void 0!==b[c]?b[c].subdomain:"www",g=document.querySelector("a[data-subdomain\x3d'"+d+"'][data-recommended-text]")):e&&(d=a.getSubdomain(e),g=f?document.querySelector("a[data-subdomain\x3d'"+d+"'][data-lang\x3d'"+f+"']"):document.querySelector("a[data-subdomain\x3d'"+d+"'][data-default-lang\x3d'true']"));g||(d="www",g=document.querySelector("a[data-subdomain\x3d'"+d+"'][data-recommended-text]"));let k,h,n,r;c={dataRecommendedText:null==(k=g)?void 0:k.dataset.recommendedText,
dataSubdomain:null==(h=g)?void 0:h.dataset.subdomain,dataHref:null==(n=g)?void 0:n.href,dataLang:null==(r=g)?void 0:r.dataset.lang};this.clickRecommendedDomainButton(c);this.clickWorldwideLink(c)},clickRecommendedDomainButton:function(c){0!==document.querySelectorAll(".recommended-country").length&&document.querySelectorAll(".recommended-country").forEach(f=>{f.textContent=c.dataRecommendedText});let e;"ch"===c.dataSubdomain?(e=document.querySelectorAll(".ch-recommendation .recommendation-button"),
document.querySelector(".ch-recommendation").style.display="block",document.querySelector(".zh-recommendation").style.display="none",document.querySelector(".default-recommendation").style.display="none"):"ww2"===c.dataSubdomain?(e=document.querySelectorAll(".zh-recommendation .recommendation-button"),document.querySelector(".zh-recommendation").style.display="block",document.querySelector(".ch-recommendation").style.display="none",document.querySelector(".default-recommendation").style.display="none"):
(e=document.querySelectorAll("#recommended_domain_button"),0!==e.length&&e.forEach(f=>{f.href=c.dataHref;f.dataset.lang=c.dataLang}));0!==e.length&&e.forEach(f=>{f.addEventListener("click",k=>{k.preventDefault();k=a.getDomain(f.href);const h=f.dataset.lang;a.setCookie(k,h);a.switchDomain(k,h)})})},clickWorldwideLink:function(c){const e=document.querySelector("a.worldwide_link");e&&(e.href=c.dataHref,e.dataset.lang=c.dataLang,e.addEventListener("click",f=>{f.preventDefault();const k=a.getDomain(e.href);
a.setCookie(k,e.dataset.lang);if(f=f.target.getAttribute("href"))location.href=f+"company/worldwide.html?s_tid\x3ddmselect_cta\x26requestedDomain\x3d"}))},showChinaPerformanceAlert:function(c){"CN"===c&&document.getElementById("china_performance_alert")&&(document.getElementById("china_performance_alert").style.display="block")},checkVisitorPrefDomain:function(c,e,f,k,h,n,r){!f.endsWith(".mathworks.com")&&!f.endsWith(".mathworks.cn")||a.isExemptUrl(r)||(c&&"CN"===e&&"ww2"!==a.getSubdomain(c)&&!a.getCookieVersion(f)?
document.getElementById("domainButton").click():c?c===f&&(document.body.classList.contains("templateservice")&&(n=k),a.setCookie(f,n)):e?(c=document.querySelector("a[data-country-code\x3d'"+e+"']").dataset.subdomain,e.toLowerCase()===h||c===h?a.setCookie(f,n):document.getElementById("domainButton").click()):"www"===h?a.setCookie(f,""):document.getElementById("domainButton").click())}};m.exports=l;document.addEventListener("DOMContentLoaded",()=>{l.init()})},{"../domainRedirect/utils.js":1,"./countrySubdomains.js":2}]},
{},[3]);